---
title: 페이지 렌더링 &#58; SSR & CSR
tags: [Rendering]
sidebar:
  nav: categories
permalink: "/categories/sparta/what-i-learned/3"
article_header:
  type: cover
  image:
    src:
---

<!-- more-->

&nbsp;&nbsp; 이번 포스트에서는 페이지 렌더링을 주제로 다루겠습니다.

&nbsp;&nbsp; 사용자 경험 측면에서 사용자가 사이트에 방문했을 때 로드되는 데이터량은 사이트의 퍼포먼스와 직결되는 요소입니다. 페이지를 이동하면, 페이지가 렌더링되고, 렌더링 하기 위해서는 데이터를 패치해야 하고, 패치하는 데 시간이 걸리고, 그래서 사용자는 빈 화면을 봐야 하고... 한다면 사용자 경험 측면에서 불리한 사이트가 됩니다.

&nbsp;&nbsp; 그래서 사이트는 목적에 따라 전략적으로 구축되어야 합니다. 이때 사이트를 어떻게 렌더링할 것인가 하는 측면에서 서버 사이드 렌더링(SSR)과 클라이언트 사이드 렌더링(CSR), 크게 두 가지 방식으로 나뉩니다.

&nbsp;&nbsp; 간략히 소개하자면, SSR은 서버 측에서 클라이언트(사용자)의 UI에 표시할 페이지를 구성하여 클라이언트에게 보여주는 방식이고, CSR은 클라이언트 측에서 페이지를 렌더링하는 방식입니다.

<br/>

### (0) 라우팅(Routing) & 렌더링(Rendering)

&nbsp;&nbsp; 라우팅은 웹 사이트에서 다른 페이지로 이동할 때의 프로세스이고, 렌더링은 UI에 페이지가 표시될 때의 프로세스입니다. 사용자는 특정 라우팅 때마다 렌더링도 거치지만, 렌더링된 요소들이 모두 그 특정 라우팅의 결과물은 아닙니다. 여기서 페이지를 이동할 때 무엇이 렌더링 되고, 안 되는가 하는 차이가 사이트라든지, 애플리케이션의 속도를 측정하는 척도가 됩니다.

<br/>

### (1) SSR

&nbsp;&nbsp; SSR은 서버에서 페이지를 렌더링하여 클라이언트에게 보여주는 방식입니다. 과정은 다음과 같습니다.

1. 클라이언트가 페이지를 요청한다.
2. 서버는 해당 페이지에 대한 정적 리소스를 클라이언트에게 전송한다.
3. 클라이언트는 정적 리소스를 다운로드하고 페이지를 렌더링한다.
4. 클라이언트는 다운로드한 리소스를 가지고 페이지를 볼 수 있지만, JS 스크립트가 실행되기 전까지 동적 작업은 수행할 수 없다.
5. 클라이언트가 JS 스크립트를 실행하면 동적 작업을 수행할 수 있다.

&nbsp;&nbsp; SSR은 사용자로 하여금 JS 스크립트를 실행하지 않고도, 다운로드한 HTML과 CSS로 렌더링된 페이지를 볼 수 있게 하기 때문에, 최초로 페이지를 로딩하는 데까지 걸리는 시간이 짧습니다. 하지만 JS가 실행되기 전까지는 동적 작업이 불가하고, 매 페이지를 완전히 재구성해야 하기 때문에, 페이지를 이동하는 데에 CSR보다 시간이 오래 걸립니다. 한편으로, 완성된 HTML 문서가 있기 때문에 검색 엔진 최적화(SEO)에 적합합니다.

<br/>

### (2) CSR

&nbsp;&nbsp; CSR은 클라이언트 측에세 페이지를 렌더링하는 방식입니다. React, Vue, Angular 등이 이에 속합니다.

&nbsp;&nbsp; CSR 방식에서 페이지는 JS에 의해 온전히 핸들링됩니다. 가령, 리액트 프로젝트에서 html 파일은 index.html 하나밖에 없습니다. 그래서 사용자는 사이트에 들어가면, 단 하나의 html 파일만을 받게 됩니다.

&nbsp;&nbsp; 페이지를 이동하면, URL 주소가 바뀌고, 페이지에 해당하는 JS 파일을 다운로드 합니다. 하지만 html은 그대로입니다. 사용자는 다운로드 한 JS 파일에 의해 다시 리렌더링된 html을 보게 됩니다. 요약하자면, 사용자는 JS 파일을 다운로드 받고 실행한 뒤에야 비로소 원하는 페이지를 볼 수 있게 됩니다. JS 파일을 실행하기 전에도 페이지를 볼 수 있는 SSR과 차이가 있습니다.

&nbsp;&nbsp; 이때문에 최초 페이지 로딩 시간은 CSR이 SSR보다 오래 걸립니다. 하지만 페이지 이동에 걸리는 시간은 짧습니다. 왜냐하면 JS를 다운 받아, 페이지 내에서 변경해야 할 요소만 변경하면 되기 때문입니다. 헤더라든지 사이드바의 메뉴 등은 보통 페이지가 바뀌어도 처음 상태를 유지하는 경우가 대부분이기 때문에, CSR 사이트에서 사용자는 페이지를 이동할 때마다 이 부분들을 리렌더링할 필요가 없게 됩니다.

<br/>

### (3) 결론 : SSR vs CSR

&nbsp;&nbsp; 언제 SSR 방식을 사용하고, 언제 CSR 방식을 사용해야 할까요? 둘의 한계는 꽤나 명확합니다. SSR은 매 페이지 마다 서버에게 요청하는 데이터가 많기 때문에 사용자가 많아지면 서버 측에 부하가 생길 수 있는 반면, CSR은 JS 하나만 요청하면 되니 사용자가 많아도 서버 측 부담이 덜할 것입니다. 하지만 SSR은 완성된 HTML을 받기 때문에 검색 엔진 최적화(SEO)에 유리하고, CSR은 그렇지 못합니다.

&nbsp;&nbsp; 따라서, 그때 그때 다르다! 라는 무책임한 결론이 나옵니다. 가령, 내 사이트가 외부에 알려지고 싶다면 SEO에 유리한 SSR을 사용하는 것이 바람직할 것입니다. 요즘은 개츠비나 넥스트에서 SSR과 CSR을 혼용한 하이브리드 방식을 제공하기 때문에, 이 또한 고려해볼만 합니다.
