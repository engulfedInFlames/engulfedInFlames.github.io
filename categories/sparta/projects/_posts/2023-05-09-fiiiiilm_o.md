---
title: Fiiiiilm (0) &#58; S.A. 설계
tags: [Sparta, Django, React]
sidebar:
  nav: categories
permalink: "/categories/sparta/projects/fiiiiilm_0"
article_header:
  type: cover
  image:
    src: "/assets/images/sparta/logo/fiiiiilm-banner.png"
---

<!-- more -->

<br/>

&ensp; 네 번째 팀 과제가 할당됐습니다. 이번 팀 과제는 장고 심화 프로젝트로서 일종의 **커뮤니티**를 구현하는 것입니다. 필수로 구현해야 하는 기능은 다음 다섯 가지입니다.

1. DRF를 사용하여 백엔드 구축하기
2. 프론트엔드는 RESTful하게 백엔드와 통신하기
3. JWT Token 인증 방식의 회원 기능 구현하기
4. 게시글, 댓글, 좋아요 등에 대한 CRUD 기능 구현하기
5. 배포하기

---

### (1) 와이어 프레임

<br/>

<div align="center">
<img src="/assets/images/sparta/projects/fiiiiilm_1.png" width=600/>
</div>

<br/>

&ensp; 와이어 프레임은 위와 같습니다. 프론트엔드는 리액트를 사용할 것이고, 컴포넌트 라이브러리로 차크라 UI를 사용하겠습니다. 하단의 회원가입과 로그인 화면 와이어 프레임은 설명을 생략하겠습니다.

1. 첫 번째는 홈 화면입니다. 페이지 최상단에 주간 박스오피스 영화들을 확인할 수 있는 슬라이더 컴포넌트를 구현할 것입니다. 영화 데이터는 TMDB의 오픈 소스 API로부터 얻을 예정입니다. 그 아래에는 최신 관람평을 확인할 수 있는 피드(또는 파지네이션)가 있습니다.

2. 두 번째는 영화 상세 페이지입니다. 최상단에 영화의 포스터 및 영화 상세 정보가 렌더링됩니다. 그 아래에는 해당 영화에 대한 관람평 피드가 있습니다.

3. 세 번째는 관람평 상세 페이지입니다. 관람평에 대한 댓글 피드가 있습니다.

4. 네 번째는 마이페이지입니다. 로그인한 사용자가 자신의 정보를 확인하거나 수정할 수 있는 페이지입니다.

### (2) ERD 설계

&ensp; ERD는 다음과 같이 설계했습니다. 영화 데이터는 API를 통해 외부에서 가지고 오므로, 영화 모델은 만들지 않았습니다. 좋아요는 사용자와 관람평(리뷰) 간에 ManyToManyField로 연결될 것입니다.

<br/>

<div align="center">
<img src="/assets/images/sparta/projects/fiiiiilm_2.png" width=600/>
</div>

<br/>

#### (3) API 설계 (URL 매핑)

&ensp; API는 다음과 같이 설계했습니다.

<br/>

<div align="center">
<img src="/assets/images/sparta/projects/fiiiiilm_3.png" />
</div>

<br/>

&ensp; URL 매핑은 실제 코드를 구현하면서 수정될 수 있습니다. */api/v1/*은 없어도 되기는 하나, 그럴싸하게 보이고자 집어 넣었습니다.

### (4) 역할 배분

&ensp; 저는 프론트엔드에 자원했습니다. 이번 프로젝트를 마지막으로 하여 리액트 공부는 잠시 유예하고자 합니다.

&ensp; 일반 HTML, CSS, JS를 사용하기에는 프론트엔드 구현에 시간이 지나치게 소요될 것 같고, 리액트를 사용하기에는 조금이나마 사용할 줄 아는 사람이 저밖에 없었습니다. 마지막 불꽃을 태운다는 생각으로 리액트 기반으로 프론트엔드에서 해야 할 작업 전체를 제가 맡아 진행할 예정입니다. 우선 생각나는 것은 다음과 같습니다.

1. 로그인시에 쿠키에 JWT Token을 저장하고, 로그인 유지시키기
2. 소셜 로그인 구현하기
3. 자기 관람평에 대해서만 수정•삭제할 수 있게 하기
4. 좋아요 누른 관람평에 대해서 좋아요 표시 유지시키기
5. 그외 CSS 작업

&ensp; 이전 개인 과제(todoy)에서는 토큰 인증 방식으로 로그인을 유지시키는 데에 실패했었습니다. 그때는 프론트엔드와 백엔드를 분리시키지 않고, 백엔드 프로젝트에서 템플릿을 만들고, 프론트엔드를 위한 URL도 같이 매핑했었는데, 그때문에 제 머리도, 프로젝트도 뒤죽박죽이되 어 결국에는 토큰 인증 방식을 진행하기 전에 깃 로그로 되돌리고 말았습니다.

&ensp; 이번에는 프론트엔드와 백엔드를 분리해서 작업하니, 조금은 혼선이 줄 것 같습니다. 이번 프로젝트에서 토큰 인증 방식으로 로그인을 유지시키는 데에 성공한 뒤에, 다시 이전 개인 과제로 돌아가 매듭을 짓겠습니다.
